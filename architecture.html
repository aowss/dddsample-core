<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0 from src/site/apt/architecture.apt at 2025-03-29
 | Rendered using Apache Maven Fluido Skin 2.1.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0" />
    <title>Architecture – DDD Sample Application</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-2.1.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-2.1.0.min.js"></script>
  </head>
  <body>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1><a href="http://dddsample.sf.net"><img src="images/banner-left.png" /> DDDSample</a></h1></div></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2025-03-29<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 2.0-SNAPSHOT</li>
        <li class="pull-right"><span class="divider">|</span>
<a href="http://www.domaindrivendesign.org/">DomainDrivenDesign.org</a></li>
        <li class="pull-right"><span class="divider">|</span>
<a href="http://www.citerus.se/">Citerus</a></li>
        <li class="pull-right"><a href="http://www.domainlanguage.com/">Domain Language</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Project information</li>
    <li><a href="index.html">Introduction</a></li>
    <li><a href="download.html">Download</a></li>
    <li><a href="changelog.html">Changelog</a></li>
    <li><a href="roadmap.html">Roadmap</a></li>
   <li class="nav-header">Application information</li>
    <li><a href="screencast.html">Screencast</a></li>
    <li><a href="characterization.html">Characterization</a></li>
    <li><a href="patterns-reference.html">Patterns Reference</a></li>
    <li class="active"><a>Architecture</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://sourceforge.net/" class="builtBy"><img class="builtBy" src="http://sflogo.sourceforge.net/sflogo.php?group_id=210606&type=2" /> Sourceforge</a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">
<section><a id="Architecture"></a>
<h1>Architecture</h1>
<p>The sample application is layered as illustrated by this picture:</p><figure><img src="images/layers.jpg" /></figure>
<p>There are three vertical layers: Interfaces, Application and Domain, each supported by different kinds of infrastructure.</p></section><section>
<h1><a id="Interfaces">Interfaces</a></h1>
<p>This layer holds everything that interacts with other systems, such as web services, RMI interfaces or web applications, and batch processing frontends. It handles interpretation, validation and translation of incoming data. It also handles serialization of outgoing data, such as HTML or XML across HTTP to web browsers or web service clients, or DTO classes and distributed facade interfaces for remote Java clients.</p></section><section>
<h1><a id="Application">Application</a></h1>
<p>The application layer is responsible for driving the workflow of the application, matching the use cases at hand. These operatios are interface-independent and can be both synchronous or message-driven. This layer is well suited for spanning transactions, high-level logging and security.</p>
<p>The application layer is thin in terms of domain logic - it merely coordinates the domain layer objects to perform the actual work.</p></section><section>
<h1><a id="Domain">Domain</a></h1>
<p>The domain layer is the heart of the software, and this is where the interesting stuff happens. There is one package per aggregate, and to each aggregate belongs entities, value objects, domain events, a repository interface and sometimes factories. The aggregate roots are <code><a href="#xref.2Fse.2Fciterus.2Fdddsample.2Fdomain.2Fmodel.2Fcargo.2FCargo.html">Cargo</a></code>, <code><a href="#xref.2Fse.2Fciterus.2Fdddsample.2Fdomain.2Fmodel.2Fhandling.2FHandlingEvent.html">HandlingEvent</a></code>, <code><a href="#xref.2Fse.2Fciterus.2Fdddsample.2Fdomain.2Fmodel.2Flocation.2FLocation.html">Location</a></code> and <code><a href="#xref.2Fse.2Fciterus.2Fdddsample.2Fdomain.2Fmodel.2Fvoyage.2FVoyage.html">Voyage</a></code>.</p>
<p>The core of the business logic, such as determining whether a handling event should be registered and how the delivery of a cargo is affected by handling, belongs in here. The structure and naming of aggregates, classes and methods in the domain layer should follow the ubiquitous language, and you should be able to explain to a domain expert how this part of the software works by drawing a few simple diagrams and using the actual class and method names of the source code.</p></section><section>
<h1><a id="Infrastructure">Infrastructure</a></h1>
<p>In addition to the three vertical layers, there is also the infrastructure. As the the picture shows, it supports all of the three layers in different ways, facilitating communication between the layers. In simple terms, the infrastructure consists of everything that exists independently of our application: external libraries, database engine, application server, messaging backend and so on.</p>
<p>Also, we consider code and configuration files that glues the other layers to the infrastructure as part of the infrastructure layer. Looking for example at the persistence aspect, the database schema definition, Hibernate configuration and mapping files and implementations of the repository interfaces are part of the infrastructure layer.</p>
<p>While it can be tricky to give a solid definition of what kind of code belongs to the infrastructure layer for any given situation, it should be possible to completely stub out the infrastructure in pure Java unit/scenario tests and still be able to use the domain layer and possibly the application layer to work out the core business problems.</p></section>        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>©      2025
</p>
        </div>
      </div>
    </footer>
  </body>
</html>